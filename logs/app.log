2025-12-04 19:34:22,308 | ERROR | app | Exception on / [POST]
Traceback (most recent call last):
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\WRIGHTA\OneDrive - FUJITSU\Documents\Uni work\software dev\ASSIGNMENT YR 3\Assignment - Copy\website\views.py", line 45, in home
    new_request = Requests(
        requester_id=current_user.id,
    ...<6 lines>...
        justification="",
    )
  File "<string>", line 4, in __init__
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WRIGHTA\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\decl_base.py", line 2177, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'last_updated' is an invalid keyword argument for Requests
2025-12-04 19:36:35,384 | INFO | __init__ | Application startup
2025-12-04 19:36:44,546 | INFO | views | Request created by user 1 for email admin@example.com
2025-12-04 19:37:06,766 | WARNING | views | Invalid email format attempt by user 1: User@g
2025-12-04 19:37:13,557 | WARNING | views | Invalid email format attempt by user 1: TestUser@gmail
2025-12-04 19:37:28,665 | INFO | views | Request created by user 1 for email User@gmail.com
2025-12-04 19:42:32,446 | WARNING | views | Unauthorized request creation attempt by user 2 for email Admin2@gmail.com
2025-12-04 19:42:36,768 | INFO | views | Request created by user 2 for email User@gmail.com
2025-12-04 19:42:40,495 | INFO | views | Request 3 updated by user 2
2025-12-04 19:42:43,422 | INFO | views | Request 2 updated by user 2
2025-12-04 19:43:35,237 | INFO | views | Request created by user 3 for email User@gmail.com
2025-12-04 19:43:41,220 | INFO | views | Request created by user 3 for email Manager@gmail.com
2025-12-04 19:44:42,170 | INFO | views | Request 2 state updated from 0 to 1 by user 1
2025-12-04 19:44:45,802 | INFO | views | Request 3 state updated from 0 to 1 by user 1
2025-12-04 19:44:47,194 | INFO | views | Request 3 state updated from 1 to 2 by user 1
2025-12-04 19:44:50,738 | INFO | views | Request 4 state updated from 0 to 1 by user 1
2025-12-04 19:44:52,235 | INFO | views | Request 4 state updated from 1 to 2 by user 1
2025-12-04 19:44:53,602 | INFO | views | Request 4 state updated from 2 to 3 by user 1
2025-12-04 19:45:09,770 | WARNING | views | Unauthorized user modification attempt by user 1 on user 1
2025-12-04 19:45:13,382 | WARNING | views | Unauthorized user deletion attempt by user 1 on user 1: Cannot delete the last Admin user.
2025-12-04 19:45:18,633 | INFO | views | User 3 updated by admin 1: email changed from Manager@gmail.com to Manager@gmail.com, role changed from 1 to 0
2025-12-04 19:46:14,724 | WARNING | auth | Failed login attempt for email: Manager@gmail.com
2025-12-04 19:46:52,535 | WARNING | views | Unauthorized users list access attempt by user 2
